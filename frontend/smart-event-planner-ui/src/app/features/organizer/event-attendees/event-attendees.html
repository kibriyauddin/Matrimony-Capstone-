<h1>Event Attendees</h1>

@if (!data) {
  <p>Loading attendees...</p>
}

@if (data) {
  <p><b>Event:</b> {{ data.event.name }}</p>
  <p><b>Total Booked:</b> {{ data.totalBooked }}</p>
  <p><b>Remaining Seats:</b> {{ data.remainingSeats }}</p>

  @if (data.attendees.length === 0) {
    <p>No attendees yet.</p>
  }

  @if (data.attendees.length > 0) {
    <table border="1" cellpadding="10">
      <thead>
        <tr>
          <th>#</th>
          <th>Attendee ID</th>
          <th>Tickets</th>
          <th>Booking Time</th>
        </tr>
      </thead>

      <tbody>
        @for (a of data.attendees; track a.attendee_id; let i = $index) {
          <tr>
            <td>{{ i + 1 }}</td>
            <td>{{ a.attendee_id }}</td>
            <td>{{ a.tickets_booked }}</td>
            <td>{{ a.booking_time }}</td>
          </tr>
        }
      </tbody>
    </table>
  }
}
